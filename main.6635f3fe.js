parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"KIzB":[function(require,module,exports) {
"use strict";function e(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=t(e))){var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o,l=!0,c=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return l=e.done,e},e:function(e){c=!0,o=e},f:function(){try{l||null==i.return||i.return()}finally{if(c)throw o}}}}function n(e){return o(e)||i(e)||t(e)||r()}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function t(e,n){if(e){if("string"==typeof e)return l(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,n):void 0}}function i(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function o(e){if(Array.isArray(e))return l(e)}function l(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}var c=document.querySelector("button"),a=document.querySelector("tbody"),u=document.querySelectorAll(".message"),s=document.querySelector(".game-score"),f=n(a.rows),d=document.querySelectorAll("td"),v=!1,L=-1,m=-1;function h(){var e=y(4),n=y(4),r=f[e].cells[n],t=Math.random()>=.9?4:2;0!==r.innerHTML.length?h():(r.innerHTML=t,r.className="field-cell field-cell--".concat(t),M(r))}function y(e){return Math.floor(Math.random()*e)}function M(e){e.style.fontSize="27px",setTimeout(function(){e.style.fontSize="22px"},300)}function T(r){v=!1;var t,i=e(f);try{for(i.s();!(t=i.n()).done;){var o=n(t.value.cells);L=-1,r(o)}}catch(l){i.e(l)}finally{i.f()}}function H(e){v=!1;for(var n=0;n<f.length;n+=1){var r=[f[0].cells[n],f[1].cells[n],f[2].cells[n],f[3].cells[n]];m=-1,e(r)}}function g(){v&&(h(),v=!1)}function p(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;(n.innerHTML=e.innerHTML*r,n.className="field-cell field-cell--".concat(n.innerHTML),M(n),e.className="field-cell",e.innerHTML="",1!==r&&(s.innerHTML=+s.innerHTML+ +n.innerHTML),"2048"===n.innerHTML)&&document.querySelector(".message-win").classList.remove("hidden")}function b(e){for(var n=e.length-1;n>=0;n-=1)if(e[n].nextElementSibling){var r={current:e[n]};r.next=r.current.nextElementSibling;for(var t=r.current,i=r.next;0===i.innerHTML.length&&t.innerHTML.length>0&&(p(t,i),v=!0,i.nextElementSibling);)i=(t=i).nextElementSibling;i.innerHTML===t.innerHTML&&i.innerHTML&&L!==i.cellIndex&&(p(t,i,2),L=i.cellIndex,v=!0)}}function w(e){for(var n=1;n<e.length;n+=1)if(e[n].previousElementSibling){var r={current:e[n]};r.previous=r.current.previousElementSibling;for(var t=r.current,i=r.previous;0===i.innerHTML.length&&t.innerHTML.length>0&&(p(t,i),v=!0,i.previousElementSibling);)i=(t=i).previousElementSibling;i.innerHTML===t.innerHTML&&i.innerHTML&&L!==i.cellIndex&&(p(t,i,2),L=i.cellIndex,v=!0)}}function S(e){for(var n=1;n<e.length;n+=1){for(var r={current:e[n],previous:e[n-1]},t={currentRow:f[n],previousRow:f[n-1]},i=r.current,o=r.previous,l=t.currentRow,c=t.previousRow;0===o.innerHTML.length&&i.innerHTML.length>0&&(p(i,o),v=!0,e[e.indexOf(i)-2]);)i=o,o=e[e.indexOf(i)-1],l=c,c=f[f.indexOf(l)-1];o.innerHTML===i.innerHTML&&o.innerHTML&&m!==c.rowIndex&&(p(i,o,2),m=c.rowIndex,v=!0)}}function x(e){for(var n=e.length-2;n>=0;n-=1){for(var r={current:e[n],previous:e[n+1]},t={currentRow:f[n],previousRow:f[n+1]},i=r.current,o=r.previous,l=t.currentRow,c=t.previousRow;0===o.innerHTML.length&&i.innerHTML.length>0&&(p(i,o),v=!0,e[e.indexOf(i)+2]);)i=o,o=e[e.indexOf(i)+1],l=c,c=f[f.indexOf(l)+1];o.innerHTML===i.innerHTML&&o.innerHTML&&m!==c.rowIndex&&(p(i,o,2),m=c.rowIndex,v=!0)}}function A(r){for(var t=[],i=0;i<r.length;i+=1){for(var o=n(r[i].cells),l=[r[0].cells[i],r[1].cells[i],r[2].cells[i],r[3].cells[i]],c=0;c<o.length-1;c+=1)o[c].innerHTML!==o[c+1].innerHTML?t.push(!1):t.push(!0);for(var a=0;a<l.length-1;a+=1)l[a].innerHTML!==l[a+1].innerHTML?t.push(!1):t.push(!0)}var u,s=e(d);try{for(s.s();!(u=s.n()).done;){u.value.innerHTML||t.push(!0)}}catch(f){s.e(f)}finally{s.f()}return t.every(function(e){return!1===e})}c.addEventListener("click",function(){n(d).forEach(function(e){e.classList.contains("field-cell--".concat(e.innerHTML))&&e.classList.remove("field-cell--".concat(e.innerHTML)),e.innerHTML="",e.className="field-cell",s.innerHTML="0"}),h(),h(),c.classList.remove("start"),c.classList.add("restart"),c.innerHTML="Restart",n(u).forEach(function(e){e.classList.add("hidden")})}),document.addEventListener("keydown",function(e){switch(e.code){case"KeyA":case"ArrowLeft":T(w);break;case"KeyD":case"ArrowRight":T(b);break;case"KeyW":case"ArrowUp":H(S);break;case"KeyS":case"ArrowDown":H(x);break;default:return}(g(),A(f))&&document.querySelector(".message-lose").classList.remove("hidden")});
},{}]},{},["KIzB"], null)
//# sourceMappingURL=main.6635f3fe.js.map